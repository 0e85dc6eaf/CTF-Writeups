#!/usr/bin/env python3
from PIL import Image, ImageDraw
import binascii
DATA_RAW="1b00e0360dbf87deffff00000000090000010007000103e90c00005345542054454152204f4e0d0a434c530d0a4249544d4150203133382c37352c32362c34382c312cffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffffffffffffffc3ffffffffffffffffffffffffffffffffffffffffffffffffffe7ffffffffffffffffffffffffffffffffffffffffffffffffffe7ffffffffffffffffffffffffffffffffffffffffffffffffffe7ffffffffffffffffffffffffffffffffffffffffffffffffffe7ffffffffffffffffffffffffffffffffffffffffffffffffffe7ffe3fffe1ffffffffff807c03c603fc07c07e0007f7ff01f8067ff007ff803fc07c03fff1ff1f04f8ff1ff1fff1fff3ffcff1f27fc7f1ff3e1ff1ff9ffff1ff1fc1fcff8ff1fff1fff3ffefe3f87f8ff9feff8ff1ff9ffff8ff1fc3fc7fcff1fff1fff1ffefc7fc7f9ff8fdffc7f1ff9ffff8ff1fc7fe3fc7f1fff1fff1ffefcffe7f1ff8f9ffc3f1ff9ffffc7f1fc7fe3fe3f1fff1fff0ffef8ffe7f1ff0fbffe3f1ff9ffffc7f1fc7fe3fe3f1fff1fff0ffef8ffe7e1ff8f3ffe3f1ff9ffffe3f1fc7fe3ff1f1fff1fff47fef8ffe7e3ff9f7ffe1f1ff9ffffe3f1fc7ff3ff8e1fff1fff47fef9ffe7e3ffffffff1f1ff9fffff1f1fc7ff3ff8c1fff1fff63fef9ffe7f1ffffffff1f1ff9fffff1f1fc7ff3ffc11fff1fff63fef9ffe7f1ffffffff1f1ff9fffff1f1fc7fe3ffe31fff1fff71fef9ffe7f1ffffffff1f1ff9fffff8f1fc7fe3ffe71fff1fff71fef8ffe7f8ffffffff0f1ff9fffff8f1fc7fe3ffcf1fff1fff78fef8ffe7fcffffffff0f1ff9fffffc61fc7fe7ff9f1fff1fff78fef8ffc7fe3fffffff0f1ff9fffffc41fc7fc7ff3f1fff1fff7c7efcffc7ff83ffffff0f9ff1fffffe11fc3f8fff7f1fff1fff7c7efc7fa7ff87ffffff0f9fe9fffffe31fc1f1ffe7f1fff1fff7e3efe3e67fe3fffffff1f8f99ffffff31fc403fe01f1fff1fff7e3eff80e0fc7fffffff1fc039fffffe71fc79ffffff1fff1fff7f1efff3eff8ffffffff1ff0f9fffffef1fc7fffffff1fff1fff7f0efffffff8ffffffff1ffff9fffffcf1fc7fffffff1fff1fff7f8efffffff8fffffffe1ffff9fffff9f1fc7fffffff1fff1fff7f86fffffff8ff9f7ffe3ffff9fffffbf1fc7fffffff1fff1fff7fc6fffffff8ff0f3ffe3ffff9fffff7f1fc7fffffff1fff1fff7fc2fffffff8ff8fbffc7ffff9ffffe7f1fc7fffffff1fff1fff7fe2fffffff8ff8f9ffc7ffff9ffffcff1fc7fffffff1fff1fff7ff0fffffffcff9f9ff8fffff9ffff8ff1fc7fffffff1fff1fff7ff0fffffffc7f9f8ff1fffff9ffff0ff0fc3fffffff1fff0ffe7ff8fffffffe1e7f83e3fffff8fffc03c03c0fffffff03e000780ff83fffffff80fff80ffffff83ffffffffdffffffff3ffffffffffffffffffffffffffffffffbffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0d0a4249544d4150203133302c3537392c32392c33322c312cffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc7fffffffffffffffffffffffffffffffffffffffffffffffffffffffe38fffffffffffffffffffffffffffffffffffffffffffffffffffffffdff7ffffffffffffffffffffffffffffffffffffffffffffffffffffff9ff3ffffffffffffffffffffffffffffffffffffffffffffffffffffff9ff3fffffffffffff9ffefbffc7ffffffe1fff8fffffffc3ffffffffff9ff3ff8ffffffffff0ffefbff39ff007f9c7fe72ffffff3c3fc07fffff87e78463f803ff01f0ffe7bfefefff7ff3f3f9f8fffffeff3ffbffffffc01fa3f9ffbfffe7f9ffe71fcfe7ff7ff7f9f9fcfffffeffbffbfffffffc07e7f9ffbfffe7ffffc71f9ff3ff7feff9f3fcfffffeffbffbffffffffe7e7f8ffbfffe7ffffd75f9ff3ff7ffffcf3fcfffffe7ffffbffffffffe7e7f9ffbfffe7ffffd35f9ff3ff7ffffcf3fcfffffe3ffffbfffffff80fe7f9ffbfffe7ffffd2cf9ff3ff7ffffcf3fcffffff07fffbfffffff7cfe7f3ffbfffe7ffffb2cf9ff3ff7fe000f3fcffffffc1fffbffffffe7e7e7c7ffbfffe7ffffbacf9ff3ff7fe7fcf3fcfffffff87ffbffffffe7e7e03fffbfffe7ffffb9ef9ff3ff7fe7fcf3fcfffffffe7ffbffffffefe7e7ffffbfffe7ffffb9e79ff3ff7fe7f9f3fcfffffeff3ffbffffffefe7e7f9ffbfffe7ffff79e7cfe7ff7ff3f9f9f8fffffeff3ffbffffffe7e7f7f1ffbfffe7f1ff79e7efcfff7ff3f3f9f0fffffe7f7ffbffffff27eff3f3ffbfffe7f0fe38e3f39fff7ffce7fc04fffffe1cfff9ffffff019ff9e7ffbfffe7f1fffffffc7fff7fff1fffbcfffffee3fff87fffffbe7ffe1fffbffe00ffffffffffffff7ffffffffcffffffffffffffffffffffffffffbfffe7ffffffffffffff7ffffffffcffffffffffffffffffffffffffffbfffe7ffffffffffffff7ffffffffcffffffffffffffffffffffffffffbfffe7ffffffffffffff7ffffffffcffffffffffffffffffffffffffffbfe7e7ffffffffffffff7ffffffffcfffffffffff3ffffffffffffffffbfe7efffffffffffffff7ffffffffcfffffffffff1ffffffffffffffffbfe7cfffffffffffffff03fffffffc3ffffffffff1ffffffffffffffff81f03fffffffffffffff3ffffffffcfffffffffffbffffffffffffffff9ffffff0d0a424152203334382c203433392c20322c2039360d0a424152203239322c203533352c2035362c20320d0a424152203330302c203439352c2034382c20320d0a424152203236302c203434372c20322c2038380d0a424152203230342c203434372c2035362c20320d0a424152203137362c203434372c20322c2039360d0a424152203131362c203435352c20322c2038320d0a424152203132302c203437392c2035362c20320d0a4241522034342c203533352c2034382c20320d0a4241522039322c203435352c20322c2038300d0a4241522032302c203435352c2037322c20320d0a4241522032312c203435352c20322c2034300d0a4241522032312c203439352c2032342c20320d0a4241522034352c203437392c20322c2031360d0a4241522033362c203437392c2031362c20320d0a424152203238342c203339312c2034302c20320d0a424152203332342c203334332c20322c2034380d0a424152203332342c203238372c20322c2033320d0a424152203237362c203238372c2034382c20320d0a4241522035322c203331312c2034382c20320d0a424152203238342c203233392c2034382c20320d0a424152203330382c203138332c20322c2035360d0a424152203134382c203233392c2034382c20320d0a424152203139362c203139312c20322c2034380d0a424152203134382c203139312c2034382c20320d0a4241522036382c203139312c2034382c20320d0a4241522037362c203135312c2034302c20320d0a4241522037362c203131392c20322c2033320d0a4241522037362c2035352c20322c2033320d0a4241522037362c2035352c2034382c20320d0a424152203131322c203533352c2036342c20320d0a424152203332302c203334332c2031362c20320d0a424152203332302c203331392c2031362c20320d0a424152203333362c203331392c20322c2032340d0a4241522035362c203132302c2032342c20320d0a4241522035362c2038372c2032342c20320d0a4241522035362c2038382c20322c2033320d0a424152203232342c203234372c2033322c20320d0a424152203235362c203231352c20322c2033320d0a424152203232342c203231352c2033322c20320d0a424152203232342c203138342c20322c2033320d0a424152203232342c203139312c2033322c20320d0a424152203237322c203331312c20322c2035360d0a424152203231362c203336372c2035362c20320d0a424152203231362c203331392c20322c2034380d0a424152203234302c203331382c20322c2034390d0a424152203138342c203335312c20322c2031360d0a424152203136382c203335312c2031362c20320d0a424152203136382c203331312c20322c2034300d0a424152203135322c203335312c2031362c20320d0a424152203135322c203335312c20322c2031360d0a5052494e5420312c310d0a"
d = binascii.unhexlify(DATA_RAW).splitlines()
bitmaps = []
bars = []
for i in d:
	if i.startswith(b"BITMAP"):
		x,y,w,h,mode,data=i[7:].split(b",",5)
		bitmaps.append([int(x),int(y),int(w),int(h),data])
	if i.startswith(b"BAR"):
		bars.append([int(x.strip()) for x in i[3:].split(b',')])
im = Image.new("1",(480,640),color=1)
for bitmap in bitmaps:
	x,y,w,h,data = bitmap
	for i in range(h):
		for j in range(w):
			for k in range(8):
				im.putpixel((x+j*8+k,y+i),data[i*w+j]&2**(7-k))
im_draw = ImageDraw.Draw(im)
for bar in bars:
	x,y,w,h=bar
	im_draw.rectangle([(x,y),(x+w,y+h)], fill=0, outline=0)
im = im.transpose(Image.FLIP_LEFT_RIGHT)
im = im.transpose(Image.FLIP_TOP_BOTTOM)
im.save("result.png")